#include <stdio.h>
#include <stdlib.h>
#include <windows.h>
#include <string.h>

COORD coord ={0 , 0};
int s1,s2,m1,m2,asc;

void gotoxy (int x, int y);

void ini();

void leitura();

void ia();

void movemotor();
                                        /* MAIN */
/*------------------------------------------------------------------------------------*/
int main()
{
    ini();
  while(1){
    leitura();
    ia();
    movemotor();
    sleep(1);
  
  }
    return 0;
}


/* outras funções */


void gotoxy (int x, int y)
{
coord.X=x;
coord.Y=y;
SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),coord);
}


void ini(){
printf("COMANDOS : sensor esquerdo = 1 / sensor direito= 2 / os dois sensores = 3 / \n  nenhum sensor = 4");
}

void movemotor(){
    if(m1==1){
        gotoxy(0,6);
        printf("move motor 1\r");
    }
    else{
        gotoxy(0,6);
        printf("para motor 1\r");
    }
    if (m2==1){
        gotoxy(0,8);
        printf("move motor 2\r");
    }
    else{
        gotoxy(0,8);
        printf("para motor 2\r");
    }
}




void ia(){
    if (s1==0 && s2==0){
        m1=1;
        m2=1;

    }
        else if(s1==1 && s2==0){
        m1=1;
        m2=0;
    }
            else if(s1==0 && s2 ==1){
                m1=0;
                m2=1;
            }
                else if (s1==1 && s2 ==1){
                    m1=1;
                    m2=0;
                }
}

void leitura(){
    if (kbhit()){
        asc= getch();
        if (asc=='1'){
            s1=1;
            s2=0;
        }
            else if (asc == '2'){
            s1=0;
            s2=1;
        }
                else if(asc == '3'){
                    s1=s2=1;
                }
                    else if(asc == '4'){
                    s1=s2=0;
                }
        }
    }
